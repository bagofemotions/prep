<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<body>

    <div layout:fragment="content">
        
        <div th:replace="~{fragments/ui :: pageHeader(title='Users', subtitle='Manage system access and roles')}"></div>

        <div th:replace="~{fragments/ui :: cardWrapper(title='System Users', showHeader=true)}">
            
            <div class="d-flex justify-content-between mb-3">
                <div class="w-50">
                    <div th:replace="~{fragments/forms :: searchBar(url='/users/search', target='#userTable')}"></div>
                </div>
                <button class="btn btn-primary" 
                        hx-get="/users/create" 
                        hx-target="#modal-content-target" 
                        data-bs-toggle="modal" 
                        data-bs-target="#genericModal">
                    <i class="bi bi-plus-lg me-2"></i> Add New User
                </button>
            </div>

            <div class="table-responsive">
                <table class="table table-hover align-middle" id="userTable">
                    <thead class="table-light">
                        <tr>
                            <th>Name</th>
                            <th>Role</th>
                            <th>Status</th>
                            <th class="text-end">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="u : ${users.content}">
                            <td>
                                <div class="d-flex align-items-center gap-2">
                                    <div th:replace="~{fragments/ui :: avatar(imageUrl=null, name=${u.fullName})}"></div>
                                    <div>
                                        <div class="fw-bold" th:text="${u.fullName}">Name</div>
                                        <div class="small text-muted" th:text="${u.email}">Email</div>
                                    </div>
                                </div>
                            </td>
                            <td th:text="${u.role}">Admin</td>
                            <td>
                                <div th:replace="~{fragments/ui :: statusBadge(status=${u.status})}"></div>
                            </td>
                            <td class="text-end">
                                <button class="btn btn-sm btn-light text-primary"
                                        th:hx-get="@{/users/edit/{id}(id=${u.id})}"
                                        hx-target="#modal-content-target"
                                        data-bs-toggle="modal" 
                                        data-bs-target="#genericModal">
                                    <i class="bi bi-pencil"></i>
                                </button>

                                <button class="btn btn-sm btn-light text-danger"
                                        th:hx-delete="@{/users/delete/{id}(id=${u.id})}"
                                        hx-confirm="Are you sure you want to delete this user?"
                                        hx-target="body">
                                    <i class="bi bi-trash"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div th:replace="~{fragments/ui :: pagination(page=${users}, baseUrl='/users')}"></div>

        </div>
    </div>

    <div th:replace="~{fragments/ui :: modalDialog(id='genericModal', title='User Details')}"></div>

</body>
</html><!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

    <div th:fragment="inputText(label, name, type, placeholder, value, required, readonly)" class="form-group">
        <label th:for="${name}">
            <span th:text="${label}">Label</span>
            <span th:if="${required}" class="text-danger">*</span>
        </label>
        <div class="input-wrapper">
            <input th:type="${type} ?: 'text'" 
                   th:id="${name}" 
                   th:name="${name}" 
                   th:value="${value}"
                   th:placeholder="${placeholder}"
                   th:required="${required}"
                   th:readonly="${readonly}"
                   class="form-control">
            <i th:if="${type == 'password'}" class='bx bx-show toggle-password' 
               onclick="togglePassword(this)"></i>
        </div>
        <small class="error-msg text-danger" th:if="${#fields.hasErrors(name)}" th:errors="*{__${name}__}"></small>
    </div>

    <div th:fragment="textarea(label, name, placeholder, rows, value)" class="form-group">
        <label th:for="${name}" th:text="${label}">Label</label>
        <textarea th:id="${name}" 
                  th:name="${name}" 
                  th:rows="${rows} ?: 4" 
                  th:placeholder="${placeholder}" 
                  th:text="${value}"
                  class="form-control"></textarea>
    </div>

    <div th:fragment="select(label, name, options, selectedValue)" class="form-group">
        <label th:for="${name}" th:text="${label}">Label</label>
        <div class="select-wrapper">
            <select th:id="${name}" th:name="${name}" class="form-control">
                <option value="" disabled th:selected="${selectedValue == null}">Select Option</option>
                <option th:each="opt : ${options}" 
                        th:value="${opt.key}" 
                        th:text="${opt.value}"
                        th:selected="${opt.key == selectedValue}"></option>
            </select>
            <i class='bx bx-chevron-down arrow-icon'></i>
        </div>
    </div>

    <div th:fragment="toggle(label, name, checked)" class="form-group toggle-group">
        <span th:text="${label}" class="toggle-label">Active?</span>
        <label class="switch-generic">
            <input type="checkbox" th:id="${name}" th:name="${name}" th:checked="${checked}">
            <span class="slider round"></span>
        </label>
    </div>

    <div th:fragment="file-upload(label, name, accept)" class="form-group">
        <label th:text="${label}">Upload</label>
        <div class="file-upload-wrapper">
            <input type="file" th:id="${name}" th:name="${name}" th:accept="${accept}" class="file-input">
            <div class="file-custom-label">
                <i class='bx bx-cloud-upload'></i>
                <span>Choose a file...</span>
            </div>
        </div>
    </div>

    <div th:fragment="search-bar(placeholder, hxUrl, hxTarget)" class="search-box">
        <i class='bx bx-search'></i>
        <input type="text" 
               th:placeholder="${placeholder}"
               th:attr="hx-get=${hxUrl}, hx-target=${hxTarget}"
               hx-trigger="keyup changed delay:500ms"
               name="search">
    </div>

    <button th:fragment="btn-submit(text, extraClass)" type="submit" 
            class="btn-primary" 
            th:classappend="${extraClass}">
        <span th:text="${text}">Save</span>
        <i class="bx bx-loader-alt bx-spin htmx-indicator"></i>
    </button>
	
	<div th:fragment="radioGroup(label, name, options, checkedValue)" class="mb-3">
	        <label class="form-label d-block" th:text="${label}">Label</label>
	        <div class="form-check form-check-inline" th:each="opt : ${options}">
	            <input class="form-check-input" type="radio" 
	                   th:name="${name}" 
	                   th:id="${name} + '-' + ${opt.key}" 
	                   th:value="${opt.key}"
	                   th:checked="${opt.key == checkedValue}">
	            <label class="form-check-label" th:for="${name} + '-' + ${opt.key}" th:text="${opt.value}">Option</label>
	        </div>
	    </div>

	    <div th:fragment="inputDate(label, name, value, required)" class="mb-3">
	        <label th:for="${name}" class="form-label">
	            <span th:text="${label}">Date</span>
	            <span th:if="${required}" class="text-danger">*</span>
	        </label>
	        <input type="date" class="form-control" th:id="${name}" th:name="${name}" th:value="${value}" th:required="${required}">
	    </div>

	    <div th:fragment="tagInput(tags)" class="mb-3">
	        <label class="form-label">Selected Tags:</label>
	        <div class="d-flex flex-wrap gap-2 p-2 border rounded bg-light">
	            <span th:each="tag : ${tags}" class="badge bg-primary d-flex align-items-center">
	                <span th:text="${tag}">Tag Name</span>
	                <i class="bi bi-x ms-2 cursor-pointer" onclick="this.parentElement.remove()" style="cursor: pointer;"></i>
	            </span>
	            <input type="text" class="border-0 bg-transparent flex-grow-1" style="outline: none; min-width: 100px;" placeholder="Add tag...">
	        </div>
	    </div>

	    <div th:fragment="filterGroup(searchUrl)" class="d-flex justify-content-between align-items-center mb-4 gap-3">
	        <div class="flex-grow-1">
	            <div th:replace="~{fragments/forms :: searchBar(url=${searchUrl}, target='#main-table')}"></div>
	        </div>
	        <div class="d-flex gap-2">
	           <button class="btn btn-outline-secondary"><i class="bi bi-funnel"></i> Filters</button>
	        </div>
	    </div>

</body>
</html><div th:if="${error}" class="error" th:text="${error}"></div>
<div th:if="${success}" th:text="${success}"></div><!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

    <nav th:fragment="sidebar(activeLink)" id="sidebar" class="col-md-3 col-lg-2 d-md-block collapse show">
        <div class="brand">
            <i class="bi bi-grid-1x2-fill me-2"></i> <span>My App</span>
        </div>
        
        <ul class="side-menu">
            <li th:classappend="${activeLink == 'dashboard'} ? 'active'">
                <a href="/dashboard"><i class="bi bi-speedometer2 me-2"></i> Dashboard</a>
            </li>
            <li th:classappend="${activeLink == 'users'} ? 'active'">
                <a href="/users"><i class="bi bi-people me-2"></i> Users</a>
            </li>
            <li th:classappend="${activeLink == 'reports'} ? 'active'">
                <a href="/reports"><i class="bi bi-bar-chart me-2"></i> Reports</a>
            </li>
            <li th:classappend="${activeLink == 'settings'} ? 'active'">
                <a href="/settings"><i class="bi bi-gear me-2"></i> Settings</a>
            </li>

            <li class="mt-4 border-top pt-2">
                <a href="#" class="text-danger" hx-post="/logout" hx-trigger="click" hx-target="body">
                    <i class="bi bi-box-arrow-left me-2"></i> Logout
                </a>
            </li>
        </ul>
    </nav>


    <nav th:fragment="topNav" class="w-100 d-flex align-items-center px-4 py-2 border-bottom bg-white">
        <i class="bi bi-list fs-4 me-3 cursor-pointer toggle-sidebar" style="cursor: pointer;"></i>

        <div class="d-none d-md-block text-muted small">
            <span th:text="${#dates.format(#dates.createNow(), 'EEEE, d MMMM yyyy')}">Date</span>
        </div>

        <div class="ms-auto d-flex align-items-center gap-3">
            <a href="#" class="text-decoration-none text-muted"><i class="bi bi-bell fs-5"></i></a>
            <div class="dropdown">
                <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="https://ui-avatars.com/api/?name=Admin+User&background=random" alt="Profile" width="32" height="32" class="rounded-circle me-2">
                    <span class="text-dark fw-bold small">Admin User</span>
                </a>
                <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0" aria-labelledby="profileDropdown">
                    <li><a class="dropdown-item small" href="/settings?tab=General">Profile</a></li>
                    <li><a class="dropdown-item small" href="/settings?tab=Notifications">Notifications</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item small text-danger" href="#" hx-post="/logout" hx-target="body">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>


    <footer th:fragment="footer" class="mt-auto py-3 text-center text-muted small border-top bg-light">
        <div class="container">
            <span>&copy; 2025 My App Inc. All rights reserved.</span>
            <span class="mx-2">|</span>
            <a href="#" class="text-muted text-decoration-none">Privacy Policy</a>
        </div>
    </footer>

</body>
</html><!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

    <a th:fragment="btn-link(text, url, icon)" th:href="@{${url}}" class="btn-primary">
        <i th:if="${icon}" th:class="'bx ' + ${icon}"></i>
        <span th:text="${text}">Link</span>
    </a>

    <button th:fragment="btn-icon(icon, color, hxUrl)" 
            class="btn-icon" 
            th:style="'color: var(--' + ${color} + ')'"
            th:attr="hx-get=${hxUrl}">
        <i th:class="'bx ' + ${icon}"></i>
    </button>

    <li th:fragment="stat-card(title, value, icon, color)">
        <i class='bx' th:classappend="${icon}" 
           th:style="'background: var(--light-' + ${color} + '); color: var(--' + ${color} + ');'"></i>
        <span class="text">
            <h3 th:text="${value}">0</h3>
            <p th:text="${title}">Title</p>
        </span>
    </li>

    <span th:fragment="badge(text, status)" 
          class="status-badge" 
          th:classappend="${status}" 
          th:text="${text}">Pending</span>

    <div th:fragment="avatar(imgUrl, name)" class="avatar-wrapper">
        <img th:if="${imgUrl != null}" th:src="${imgUrl}" alt="User">
        <span th:if="${imgUrl == null}" class="avatar-initials" 
              th:text="${#strings.substring(name,0,2).toUpperCase()}">AB</span>
    </div>

    <div th:fragment="empty-state(message)" class="empty-state">
        <i class='bx bx-folder-open'></i>
        <p th:text="${message}">No records found.</p>
    </div>

    <div th:fragment="alert(type, message)" th:class="'alert alert-' + ${type}" role="alert">
        <i class='bx' th:classappend="${type == 'success' ? 'bxs-check-circle' : 'bxs-error-circle'}"></i>
        <span th:text="${message}">Message</span>
        <button type="button" class="close-btn" onclick="this.parentElement.remove()">&times;</button>
    </div>

    <div th:fragment="modal(id, title)" th:id="${id}" class="modal-backdrop">
        <div class="modal-content">
            <div class="modal-header">
                <h3 th:text="${title}">Title</h3>
                <span class="close-modal" onclick="closeModal(this)">&times;</span>
            </div>
            <div class="modal-body" id="modal-target-body"></div>
        </div>
    </div>

    <ul th:fragment="breadcrumb(pathMap)" class="breadcrumb">
        <li th:each="item : ${pathMap}">
            <a th:href="@{${item.value}}" th:text="${item.key}" th:class="${itemStat.last} ? 'active' : ''"></a>
            <i th:unless="${itemStat.last}" class='bx bx-chevron-right'></i>
        </li>
    </ul>

    <div th:fragment="tabs(tabList, activeTab)" class="tab-container">
        <div class="tabs">
            <a th:each="tab : ${tabList}" 
               th:text="${tab.label}" 
               th:classappend="${tab.id == activeTab} ? 'active' : ''"
               class="tab-item"></a>
        </div>
    </div>

    <div th:fragment="accordion-item(title, contentId)" class="accordion-item">
        <button class="accordion-header" onclick="toggleAccordion(this)">
            <span th:text="${title}">Title</span>
            <i class='bx bx-chevron-down'></i>
        </button>
        <div class="accordion-body" style="display:none;">
             <th:block th:replace="${contentId}"></th:block>
        </div>
    </div>

    <div th:fragment="timeline(events)" class="timeline">
        <div th:each="event : ${events}" class="timeline-item">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
                <small th:text="${event.date}" class="text-muted">Date</small>
                <h5 th:text="${event.title}">Title</h5>
                <p th:text="${event.description}">Desc</p>
            </div>
        </div>
    </div>

    <div th:fragment="stepper(steps, currentStepIndex)" class="stepper">
        <div th:each="step, iter : ${steps}" 
             class="step" 
             th:classappend="${iter.index <= currentStepIndex} ? 'completed' : ''">
            <div class="step-circle" th:text="${iter.count}">1</div>
            <div class="step-label" th:text="${step}">Step Name</div>
            <div th:unless="${iter.last}" class="step-line"></div>
        </div>
    </div>

    <div th:fragment="skeleton-row" class="skeleton-row">
        <div class="skeleton-block w-full"></div>
    </div>

    <div th:fragment="skeleton-card" class="skeleton-card">
        <div class="skeleton-icon"></div>
        <div class="skeleton-text">
            <div class="skeleton-line short"></div>
            <div class="skeleton-line long"></div>
        </div>
    </div>
	
	<a th:fragment="btnPrimary(text, url)" th:href="@{${url}}" class="btn btn-primary">
	        <span th:text="${text}">Action</span>
	    </a>

	    <a th:fragment="btnSecondary(text, url)" th:href="@{${url}}" class="btn btn-outline-secondary">
	        <span th:text="${text}">Cancel</span>
	    </a>

	    <a th:fragment="linkButton(text, url)" th:href="@{${url}}" class="text-decoration-none fw-bold text-primary px-2">
	        <span th:text="${text}">Link</span>
	    </a>


	    <div th:fragment="cardWrapper(title, showHeader)" class="card shadow-sm border-0 mb-4">
	        <div th:if="${showHeader}" class="card-header bg-white border-bottom-0 pt-3 pb-0">
	            <h5 class="card-title fw-bold" th:text="${title}">Card Title</h5>
	        </div>
	        <div class="card-body">
	            <div th:replace="${bodyContent} ?: _"></div> 
	        </div>
	    </div>

	    <div th:fragment="divider(text)" class="d-flex align-items-center my-4">
	        <hr class="flex-grow-1 m-0">
	        <span th:if="${text != null}" class="px-3 text-muted small text-uppercase" th:text="${text}">OR</span>
	        <hr th:if="${text != null}" class="flex-grow-1 m-0">
	    </div>

	    <div th:fragment="gridGallery(items)" class="row row-cols-1 row-cols-md-3 g-4">
	        <div th:each="item : ${items}" class="col">
	            <div class="card h-100">
	                <div class="card-body" th:text="${item}">Item</div>
	            </div>
	        </div>
	    </div>


	    <nav th:fragment="breadcrumbs(crumbs)" aria-label="breadcrumb">
	        <ol class="breadcrumb">
	            <li class="breadcrumb-item"><a href="/">Home</a></li>
	            <li th:each="crumb, iterStat : ${crumbs}" 
	                class="breadcrumb-item" 
	                th:classappend="${iterStat.last} ? 'active'"
	                th:aria-current="${iterStat.last} ? 'page'">
	                <a th:if="${!iterStat.last}" th:href="@{${crumb.value}}" th:text="${crumb.key}">Link</a>
	                <span th:if="${iterStat.last}" th:text="${crumb.key}">Current</span>
	            </li>
	        </ol>
	    </nav>

	    <div th:fragment="pageHeader(title, subtitle)" class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-2">
	        <div>
	            <h2 class="fw-bold mb-0" th:text="${title}">Page Title</h2>
	            <p class="text-muted small mb-0" th:text="${subtitle}">Subtitle here</p>
	        </div>
	        <div>
	            </div>
	    </div>

	    <ul th:fragment="tabs(tabs, activeTab)" class="nav nav-tabs mb-4">
	        <li class="nav-item" th:each="tab : ${tabs}">
	            <a class="nav-link" 
	               th:classappend="${tab.key == activeTab} ? 'active fw-bold' : 'text-muted'" 
	               th:href="@{${tab.value}}" 
	               th:text="${tab.key}">Tab Name</a>
	        </li>
	    </ul>


	    <div th:fragment="alertToast(type, message)" 
	         class="alert alert-dismissible fade show" 
	         th:classappend="'alert-' + ${type}" role="alert">
	        <i class="bi" th:classappend="${type == 'success'} ? 'bi-check-circle' : 'bi-exclamation-triangle'"></i>
	        <span class="ms-2" th:text="${message}">Message</span>
	        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	    </div>

	    <div th:fragment="progressBar(percentage, label)" class="mb-3">
	        <div class="d-flex justify-content-between small mb-1">
	            <span th:text="${label}">Processing...</span>
	            <span th:text="${percentage} + '%'">0%</span>
	        </div>
	        <div class="progress" style="height: 8px;">
	            <div class="progress-bar" role="progressbar" 
	                 th:style="'width: ' + ${percentage} + '%'" 
	                 th:aria-valuenow="${percentage}" aria-valuemin="0" aria-valuemax="100"></div>
	        </div>
	    </div>

	    <div th:fragment="loaderOverlay(id)" th:id="${id}" class="d-none position-fixed top-0 start-0 w-100 h-100 bg-white opacity-75 d-flex justify-content-center align-items-center" style="z-index: 9999;">
	        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;"></div>
	    </div>

	    <div th:fragment="stepper(steps, currentStepIndex)" class="d-flex justify-content-between mb-5 position-relative">
	        <div class="position-absolute top-50 start-0 w-100 translate-middle-y bg-light" style="height: 4px; z-index: 0;"></div>
	        <div th:each="step, iter : ${steps}" class="position-relative text-center" style="z-index: 1;">
	            <div class="rounded-circle d-flex align-items-center justify-content-center mx-auto mb-2 fw-bold border"
	                 style="width: 35px; height: 35px;"
	                 th:classappend="${iter.index <= currentStepIndex} ? 'bg-primary text-white border-primary' : 'bg-white text-muted border-secondary'"
	                 th:text="${iter.count}">1</div>
	            <span class="small fw-bold" 
	                  th:classappend="${iter.index <= currentStepIndex} ? 'text-dark' : 'text-muted'"
	                  th:text="${step}">Step Name</span>
	        </div>
	    </div>

	    <div th:fragment="codeBlock(codeId, content)" class="position-relative bg-dark text-light p-3 rounded font-monospace small">
	        <button class="btn btn-sm btn-light position-absolute top-0 end-0 m-2" 
	                onclick="navigator.clipboard.writeText(this.nextElementSibling.innerText)">Copy</button>
	        <pre class="m-0" th:text="${content}">UUID-1234-5678</pre>
	    </div>

	    <div th:fragment="skeletonCard" class="card h-100 border-0 shadow-sm" aria-hidden="true">
	        <div class="card-body">
	            <h5 class="card-title placeholder-glow">
	                <span class="placeholder col-6"></span>
	            </h5>
	            <p class="card-text placeholder-glow">
	                <span class="placeholder col-7"></span>
	                <span class="placeholder col-4"></span>
	                <span class="placeholder col-4"></span>
	                <span class="placeholder col-6"></span>
	            </p>
	        </div>
	    </div>

	    <span th:fragment="tooltip(text)" class="d-inline-block" tabindex="0" data-bs-toggle="tooltip" th:title="${text}">
	        <i class="bi bi-question-circle-fill text-muted"></i>
	    </span>

	    <div th:fragment="dataTableSimple(headers, rows)" class="table-responsive">
	        <table class="table table-hover align-middle">
	            <thead class="table-light">
	                <tr>
	                    <th th:each="header : ${headers}" th:text="${header}">Header</th>
	                </tr>
	            </thead>
	            <tbody>
	                <tr th:if="${#lists.isEmpty(rows)}">
	                    <td th:colspan="${#lists.size(headers)}" class="text-center">No data available</td>
	                </tr>
	            </tbody>
	        </table>
	    </div>

	    <dl th:fragment="descriptionList(dataMap)" class="row">
	        <th:block th:each="entry : ${dataMap}">
	            <dt class="col-sm-3 text-muted" th:text="${entry.key}">Label</dt>
	            <dd class="col-sm-9" th:text="${entry.value}">Value</dd>
	        </th:block>
	    </dl>

</body>
</html><!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login - My App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script src="https://unpkg.com/htmx.org@1.9.5"></script>
</head>
<body class="bg-light d-flex align-items-center justify-content-center" style="height: 100vh;">

    <div class="card shadow-sm border-0 p-4" style="width: 100%; max-width: 400px;">
        <div class="card-body">
            
            <div class="text-center mb-4">
                <h4 class="fw-bold text-primary">My App</h4>
                <p class="text-muted small">Welcome back! Please login.</p>
            </div>

            <div th:if="${param.error}">
                 <div th:replace="~{fragments/ui :: alertToast(type='danger', message='Invalid username or password.')}"></div>
            </div>

            <div th:if="${param.logout}">
                 <div th:replace="~{fragments/ui :: alertToast(type='success', message='You have been logged out.')}"></div>
            </div>

            <form th:action="@{/login}" method="post">
                
                <div th:replace="~{fragments/forms :: inputText(
                    label='Username', name='username', type='text', placeholder='admin', value='', required=true, readonly=false
                )}"></div>

                <div th:replace="~{fragments/forms :: inputText(
                    label='Password', name='password', value='', type='password', placeholder='password', value='', required=true, readonly=false
                )}"></div>

                <div class="d-grid mt-4">
                    <button type="submit" class="btn btn-primary btn-lg">Sign In</button>
                </div>
            </form>
        </div>
    </div>

</body>
</html><!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

    <div th:fragment="userForm">
        <form th:action="@{/users/save}" th:object="${user}" method="post">
            
            <input type="hidden" th:field="*{id}">

            <div class="row">
                <div class="col-md-12">
                    <div th:replace="~{fragments/forms :: inputText(
                        label='Full Name', name='fullName', value=*{fullName}, type='text', placeholder='John Doe', required=true
                    )}"></div>
                </div>
                
                <div class="col-md-12">
                    <div th:replace="~{fragments/forms :: inputText(
                        label='Email Address', name='email', value=*{email}, type='email', placeholder='john@example.com', required=true
                    )}"></div>
                </div>

                <div class="col-md-6">
                    <div th:replace="~{fragments/forms :: selectField(
                        label='Role', name='role', 
                        options=${ {'Admin':'Admin', 'Editor':'Editor', 'Viewer':'Viewer'} }, 
                        selectedValue=*{role}
                    )}"></div>
                </div>

                <div class="col-md-6">
                     <div th:replace="~{fragments/forms :: radioGroup(
                        label='Status', name='status', 
                        options=${ {'Active':'Active', 'Inactive':'Inactive'} }, 
                        checkedValue=*{status}
                     )}"></div>
                </div>
            </div>

            <div class="modal-footer px-0 pb-0 border-0 mt-3">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Save User</button>
            </div>

        </form>
    </div>

</body>
</html>